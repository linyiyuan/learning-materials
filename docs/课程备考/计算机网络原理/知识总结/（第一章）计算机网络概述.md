# 内容概括：

1.  计算机网络基本概念
2.  计算机网络结构
3.  数据交换技术
4.  计算机网络性能
5.  计算机网络体系结构
6.  计算机网络发展简史

## 1.计算机网络基本概念

### 1）定义：

计算机网络是互连的，自治的计算机的集合，

-  自治：
是指互连的计算机系统彼此独立，不存在主从或者控制与被控制的关系

定义中的计算机应理解为  “计算机设备” 。  计算机网络定义中的  “自治计算机”  通常称为  “主机（host）”  或  “端系统  （end system）” .

-  互连：
是指利用通信链路连接相互独立的计算机系统。通信链路可以是双绞线，光纤，微波，通信卫星等。不同的链路的传输速率不同，在计算机网络中也称为带宽，单位是 bit/s  或 bps 或 b/s

### 2)协议：

计算机网络中的实体在进行数据交换的过程中也必须遵循一些规则或 UI 定，这些规则或规定就是网络协议
任何一个协议都会显式或隐式地定义 3 个基本要素：语法（syntax），语义（semantics），时序（timing）

-  语法：

语法定义实体之间交换信息的格式与结构，或者定义实体（比如硬件设备）之间传输信息的电平等

-  语义：

实体之间交换的信息，除了协议用户需要传输的数据之外，通常还包括其他控制信息，比如地址信息等

-  时序

时序也称为同步，定义实体之间交换信息的顺序以及如何匹配或适应彼此的速度

### 3)  计算机网络的功能

计算机网络的功能是在不同主机之间实现快速的信息交换。通过信息交换，计算机网络可实现资源共享这一核心功能，包括硬件共享，软件资源共享和信息资源共享。

1.  硬件资源共享
   通过计算机网络，一台主机可以共享使用另一台主机的硬件资源，包括计算资源（如 CPU），存储资源，打印机与扫描仪 I/O 设备等。事实上，云计算喝云存储可以提供硬件计算资源和储存资源的共享

2.  软件资源共享
   网络上的主机可以远程访问，使用服务器计算机上运行的各类大型软件，例如   大型数据库系统，大型行业专业软件等实现软件的共享。

3.  信息资源共享
   互联网已经成为人们获取信息的重要渠道，例如   行文阅读，信息检索等

### 4)  计算机网络的分类

最大的计算机网络就是 Internet（因特网）

1. 按覆盖范围分类：

   - 个域网：  穿戴设备，便携式移动设备，例如蓝牙技术。通常覆盖范围在 1-10m

   - 局域网：  通常部署在办公室，办公楼，厂区，校园等局部区域。  覆盖方位在 10m-1km

   - 城域网： 城域网是指覆盖一个城市方位的网络，覆盖范围通常在 5~50km

   - 广域网：  覆盖范围在几十到几千千米，通常跨度更大的地理空间，可以实现异地城域网或局域网的互连

2. 按拓扑结构分类

网络拓扑是指网络中的主机，网络设备间的物理连接关系与布局。按拓扑结构，计算机网络可以分为  `星形拓扑结构` `总线型拓扑结构` `环形拓扑结构` `网状拓扑结构` `树形拓扑结构` `混合拓扑结构`

3. 按交换方式分类
   数据交换是指网络通过彼此互连的结点间的数据转接，实现将数据从发送结点送达目的结点的过程和技术， 分为 `电路交换网络` `报文交换网络` `分组交换网络`

4. 按网络用户属性分类
   `公用网` `私有网`

## 2.计算机网络结构

计算机网络规模不同，其结构复杂程度也有所不同。大规模现代计算机网络的结构包括 `网络边缘` `接入网络` `网络核心`

### 1)网络边缘

连接上网络的计算机，服务器，智能手机等称为主机或端系统。这些端系统位于网络的最边缘，因此连接到网络上的所有端系统构成了网络边缘，也可以说网络边缘为网络用户提供了网络应用服务

### 2)接入网络

简单的局域网跟个域网的端系统可以通过通信链路直接连接，但是对于大规模，复杂网络，例如 Internet 的网络连接需要网络核心进行数据中继或转发，所以用户就需要借助接入网络实现与 ISP 的连接，接入网络
是实现网络边缘的端系统与网络核心连接与接入的网络，分为以下几类

- 电话拨号接入
- 非对称数字用户线路 ADSL
- 混合光纤同轴电缆 HFC 接入网络
- 局域网
- 移动接入网络

### 3)网络核心

网络核心是由通信链路互连的分组交换设备构成的网络，作用是实现网络边缘中主机之间的数据中继与转发。比较典型的分组交换设备是路由器和交换机等，在大规模计算机网络中，相距遥远的主机之间不可能通过一条物理通信链路直接相连，而是各自通过接入网连到网络和欣赏，彼此传输的数据都是通过网络核心进行中继与转发。最后送达目的的主机

网络核心是通过数据交换技术进行数据中继与转发

## 3.数据交换技术

计算机网络的根本目的是在网络边缘的主机之间实现相互的数据传输，信息交换

数据交换是实现在大规模网络核心上进行数据传输的技术基础，常见的数据交换技术包括：电路交换，报文交换，分组交换。基于不同交换技术构建的网络分别称为：电路交换网络，报文交换网络和分组交换网络

### 1)电路交换

电路交换是最早出现的一种交换方式，而电话网络则是最早，最大的电路交换网络，电路交换包括三个阶段：建立电路，传输数据，拆除电路

建立电路：在传输数据之前，建立一条端对端的电路，实际上建立过程就是一个个交换结点的接续过程，电路交换的接续时间（电路建立时间）的长短跟接续的中间交换结点个数有关

主机 A ----》发出呼叫信号 -----》经过若干个结点沿途接通一条物理链路后 ----》 目标主机 B ------》发出应答信号返回给主机 -------》沿接通好的物理链路回到 ----》主机 A

传输数据：传输数据可以是数字数据或者模拟数据，数据传输可以是单工或者全双工，

拆除电路：数据传输结束后，可以由两个通信主机任何一方发起并完成是释放物理链路，释放信号必须传送到电路所经过的各个结点，以便重新分配资源

总结： 电路交换的特点是有连接的，在通信时需要先建立电路连接，在通信过程中独占一个信道，通信结束拆除电路。优点是实时性搞，时延喝时延抖动都比较小，缺点是对于突发性数据传输，信道利用率低，且传输速率单一。电路交换主要使用与
语音和视频这类实时性强的业务

### 2)报文交换

当主机间交换的数据具有随机性跟突发性是，采用电路交换的缺点是信道容量和有效时间的浪费，于是有了报文交换的方法。报文交换也称为消息交换

发送方将发送信息附加 发送/接受主机的地址以及其他控制信息构成报文 -----》 报文为单位在交换网络的各结点间以存储-转发的方式传送，直至送达目的主机

一个报文在每个结点的延迟时间 == 接收报文所需的时间 + 向下一个结点转发所需排队延迟时间之和

总结：相对电路交换信道，报文交换线路利用率高，因为只有当报文被转发时才占用相应的信道，不过由于报文交换网络中交换结点需要缓冲存储，报文需要排队，因此会导致报文经过网络的延迟时间变长并且不固定，对于实时通讯会容易出现
不能满足速度要求的情况。在现代计算机网络中没有采用报文交换技术的

### 3)分组交换

分组交换是目前计算机网络广泛采用的技术。分组交换需要将待传输数据（报文） 分割成较小的数据块，每个数据块附上地址，序号等控制信息构成数据分组，每个分组独立传输到目的地，目的地将受到的分组重新组装，还原为报文。分组传输通常也采用储存--转发交换方式，分组交换是报文交换的一种改进，它将一个完整的报文拆分成若干个分组，每个分组的长度有一个上限，有限长度使得每个结点所需的存储能力降低，提高交换速度。

优点：

1. 交换设备存储容量要求低
   报文交换需要缓存整个报文，对报文交换设备的存储容量要求更高，而分组交换将大报文拆成较短的分组进行传输，因此分组交换可以大大降低对网络交换结点存储容量的要求
2. 交换速度快
   报文交换在缓存大报文时，有可能需要用到速度较慢的外存储设备，使得转发报文需要较长时间，分组交换设备由于只需要缓存一定数量较小的分组，因为可以利用主存储器进行存储-转发处理，不需借助外存储设备，处理转发速度加快。另外，在分组交换网络中，多个分组可以在网络中的不同链路中进行并发传送，大大提高传输效率和线路利用率，大幅度缩短整个报文通过网络时间
3. 可靠传输率高
   网络通信需要确保可靠，无差错的数据传输，实际通信链路不可能实现 100%无差错，能做的就是纠正错误，而最常见的纠正错误方法就是请求方重新发送出错数据，而传统的报文交换网络，一个报文出错则需要整个重传整个报文，而对于分组交换网络来说，只需要重传出出错的分组，并不需要整个报文产生的所有分组，并且报文长度通常远大于分组长度，所以，报文出错概率也大于分组出现差错的概率，并且重传代价要远远大于分组代价。
4. 更加公平
   在传统的报文交换网络中，按照最常见的转发调度规则，先到先服务，如果存在一个大报文在一个小报文之前转发，且沿相同路径向相同的目的传输，那么小报文只有等待大报文转发结束才能转发，所以小报文将尽力更长的时间通过网络到达目的地，显然这是不公平的，但对于分组交换，如果分组大小相同，大报文拆分出更多分组，小报文拆出较少分组，不同报文的分组在交换结点可能交替排队，使得每个分组通过网络时间相当，总体上，小报文将用较短时间通过网络到达目的地

分组长度的确定：

分组交换网络中的分组长度通常受，交换过程中的延迟时间，交换设备存储容量，线路利用率，信道传输质量，数据业务统计特性以及交换机费用等诸多因素有关
分组长度与延长时间，当分组具有相同长度时，分组在交换过程中的延迟时间较小。 在其他相同条件下，分组长度约场，延迟时间约场，所以，对于实时交互式通信，要求延迟时间短，分组长度应该尽可能的端，对于诸如文件传送类的非实时数据通信，延迟要求不高，可以适当加长分组长度，当然分组长度不能太短，因为分组是需要附加控制消息的，额外开销会增加，有效数据传输效率会降低

分组长度与误码率：(_代表下标 ^ 代表上标)
设分组长度为L 其中h 为分组投长度 数据长度为x  得到公式： `L = h + x`

若信道误码率为P_e  则分组传输正确率的概率为： 

```tex
 P_s = (1-P_e)^{x + h}
```

分组传输错误要求重发的概率为`1 - P_s` 在考虑到可能多次连续传输错误的情况下，可以得到最佳分组长度公式为： 

```tex

L_opt = \sqrt{\frac{h}{ P_e}}

```

最高信道利用率可以表示为：
```tex
   n_{max} = (1 - \sqrt{hP_e})^2
```

误码率公式（比特差错率） = 一段时间内差错比特数量 / 传输总比特数  在这里一般一个汉字由两个字节构成，一个字节16比特

目前，分组长度以16B(1B = 8bit)到4096B之间的2^nB为标准分组长度，如32B 64B 256B 512B 1024B


## 4.计算机网络性能

我们可以通过多种指标对一个计算机网络的整体或者局部，全面，部分，静态，动态等不同方面的性能进行评估

### 1.速率与带宽

`速率` 是计算机网络中最重要的性能指标之一。速率是指网络单位时间内传送的数据量，用以描述网络传输数据的快慢，也称为数据传输速率或数据数据， **速率的基本单位是bit/s （位每秒） 因此也可以成为比特率。

1 bit（比特） = 8 Byte（字节）
1 KB = 1024B = 1024 Byte = 8192bit

其中 Bit-比特；B-字节 ；KB-千字节 ；MB-兆字节 ；GB-吉字节 ；TB-太字节， 一个汉字 = 2B  一个英文 = 1B

通常给出的网络速率是指网络的额定速率或者标称速率，网络在实际运行时的速率可能吧并不总能达到额定速率， 在计算机网络中，也可以用 `带宽` 藐视链路或信道的最高数据速率 单位也是`bit/s`

### 2.时延

`时延` 是指数据从网络中的一个结点（主机或者交换设备） 到另外一个结点所需要的时间，在计算机网络中，通常将连接两个结点的直接链路成为一个跳步 (hop), 只要分析清楚分组在每一跳过程的时延，就可以求得任意情况下，分组从源结点到达目的地结点的时延
分组的每跳传输过程主要产生4类事件延迟： `结点处理时延` `排队时延` `传输时延` `传播时延`

1. 结点处理时延： 每个分组到达交换结点（比如路由器），交换设备对分组信息进行验证，确认如何转发分组，以及修改分组部分控制信息这些操作的消耗时间总和 记为d_c 结点处理时延通常很小，在讨论网络总时间延迟时常常被忽略
2. 排队时延： 当分组在经过结点处理后，明确了从哪个输出链路进行转发时。 此时分组之前可能还存在其他之前的分组在等待或者正在交换到相同的输出链路，或者还有其他分组正在等待通过输出链路进行发送，所以需要分组在当前交换结点进行暂时缓存（存储-转发），排队等待输出链路可用，在这过程中排队等待的时间为`排队时延` 
3. 传输时延：分组在输出链路中，从第一位到最后发送完最后一位为止，所用时间为`传播时延`（发送时延）d_t 假设分组长度为Lbit 链路带宽(速率)为 Rbit/s 则传输时延为 d_t = L / R
4. 传播时延：信号从发送端发送过来，经过一定距离的物理链路到达接收端所需要的时间成为传播时延 d_p 若物理链路长度为 D (m) 信号传播速度为 V (m/s) 则得到：

```tex
   d_p = D / V
```
综上所述一个分组经历一个跳步所需时间为:

```tex
  d_{h} = d_{c} + d_{c} + d_{t} + d_{p}
```


如果一个分组从源主机到达目的主机经过n个交换结点，即经过的跳步数为(n+1) 则改分组从源主机到达目的主机所需时间总和为

``` tex
 T = \sum_{i=1}^{n+1} d_h^i
```


### 3.时延带宽积

一段物理链路的传播时延与链路带宽的乘积称为时延带宽积，记为G 于是

```tex
   G = d_{p} * R
```

显然，时延带宽积G的单位是位 时延带宽积的物理意义在于:如果将物理链路看作-一个传输数据的管道的话，时延带宽积表示-段链路可以容纳的数据位数，也称为以位为单位的链路长度。

### 4.丢包率
当网络堵塞特别严重时，新到达的分组已经没有缓存空间暂存该分组，此时交换结点会丢弃分组，就会发生`丢包` 现象，课件，网络堵塞是影响网络性能的重要现象

丢包率常用语评价和衡量网络性能的指标，丢包率可以定义为：

```tex
\eta =  \frac{N_1}{N_s} = \frac{N_s - N_r}{N_s}
```

在上面公式中
```tex
   N_s 为发送分组总数, N_r 为接受分组总数, N_1 为丢失分组总数
```

### 5.吞吐量

吞吐量(throughput)表示在单位时间内源主机通过网络向目的主机实际送达的数据量，单位为bit/s或 B/s,即为Thr,吞吐量经常用语度量网络中源主机到目的主机的数据传输效率。 吞吐量受网络链路带宽，网络连接复杂性，网络协议，网络堵塞程度等因素影响，吞吐量在立项情况下约等于瓶颈链路的带宽

```tex
   Thr = min(R_1, R_2,R_i,·····R_{N-1}, R_N)
```

## 5.计算机网络体系结构

