# 内容概括：

1. 传输层的基本服务
2. 传输层的复用与分解
3. 停-等协议与滑动窗口协议
4. 用户数据报协议（UDP）
5. 传输控制协议（TCP）

## 1.传输层的基本服务
  1. 传输层的功能 ： 传输层的核心任务是为应用进程之间提供端到端的逻辑通信服务，主要的功能有，传输层寻址；对应用层报文进行分段和重组，对报文进行差错检测；实现进程间的端到端可靠数据传输控制；面向应用层实现复现与分解；实现端到端的流量控制；拥塞控制等。传送层协议秩序在端系统中实现，在路由器等网络设备中理论上无需实现传输层协议，在发送端，传输层从发送应用程序接受报文进行拆分分装成传输层数据报，称为传输层报文段，然后递交给网络层，网络层将其封装成网络层分组（数据报）并发送，路由器等网络设备一般只会对数据报的网络层字段进行操作，不检查传输层报文段字段。在接收端，网络层从数据报中提取传输层报文段，然后向上递交给传输层，传输层处理后提取报段中应用层数据交给接受应用进程。

  通信真正端点不是主机，而是主机运行的应用进程，传输层协议就是负责进程跟进程间的通信

  2. 传输层寻址与端口
  由于在网络环境下，因为计算机操作系统种类繁多，不同操作系统的进程标识符会有不同格式，而用进程指明为通信的端点也可不行，因为进程创建跟撤销是动态的，所以必须使用同一的方法对网络应用进行标识，这个跟操作系统无关，在TCP/IP体系结构网络中，使用协议端口号，也就是端口，然后通过利用IP地址 + 端口号，唯一标识一个通信端点，IP地址可以表示进程在哪个主机，同一主机上传输层协议端口号则可以唯一对应一个应用进程。这种称为软件端口，
  - 硬件端口：不同硬件设备交互端的接口
  - 软件端口：应用层的各种应用进程协议与传输层协议实体进行层间交互的一种地址
  传输层端口号为16位证书，其中0~1023为熟知端口号，1024~49151位登记端口号，必须在互联网数字分配结构（IANA）登记，防止重复，49152~65535为客户端口号，客户进程或者非标注服务器应用临时使用，端口只对本地有效。传输层端口号又分为以下两种
  - 服务端端口号：熟知端口号和登记端口号，IANA将熟知端口号分为TCP/IP最重要一些应用程序
  - 客户端端口号仅在客户进程运行时才动态选择，具有临时性，通常在客户进程运行时由操作系统随机选取唯一的未被使用的端口号
  3. 无连接服务与面向连接服务
   传输层提供的服务可以分为无连接服务和面向连接服务两大类
   - 无连接服务：传输之前无需对端进行任何信息交换，直接构造传输层报文段并发送 例如：邮政系统的信件通信
   - 面向连接服务：传输之前需要交换对方一些控制信息，建立逻辑连接，然后传输数据，结束后拆除连接 例如：电话连接

## 2. 传输层的复用与分解
支持众多应用进程共用同一个传输层协议，并能够将接收的数据准确交付给不同的应用进程，是传输层需要实现的一项基本功能，称为多路复用与多路分解
- 多路复用：在同一主机上，多个应用进程同时利用一个传输层协议进行网络通信，此时该传输层协议就被多个应用进程复用
- 多路分解：传输层协议接收报文段中可能封装了不同应用进程的数据，传输层协议需要将数据交付给正确对应的应用进程
  实现上面两个基本功能的关键是传输层协议能够唯一标识一个套接字
