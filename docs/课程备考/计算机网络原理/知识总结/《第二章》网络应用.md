# 内容概括：

1. 计算机网络应用体系结构
2. 网络应用通信基本原理
3. 域名系统（DNS）
4. 万维网应用
5. Internet电子邮件
6. FTP
7. P2P应用
8. Socket编程基础

## 1.计算机网络应用体系结构
计算机网络应用是运行在计算机网络环境下的分布式软件系统，从体系结构角度可以分为： `客户/服务器(C/S)结构` `纯P2P结构` `混合结构`


1. 客户/服务器(C/S)结构网应用
这个应用是网络应用中最典型，最基本的网络应用，人们平时使用的许多网络应用都属于这类应用，比如WWW应用，文件传输FTP，电子邮件等。
在C/S网络应用中，服务器通常运行在高性能的服务器计算机上。服务器计算机一般具有固定的网络地址（比如IP地址） 长期运行，一遍服务器软件能够随时被请求服务。客户软件通常在普通用户的计算机或者其他计算设备上，可能使用动态的网络地址，是通信的主动发起方。
C/S网络应用最主要的特征是通信只在客户与服务器之间进行，客户与客户之间不进行直接通信。在现代计算机网络中，网络应用程序之间通信的基本模式就是C/S方式通信。在C/S通信过程中，主动发起通信的一方就是客户，被动接受通信的一方就是服务器

2. 纯P2P结构网络应用
在用于文件分发，文件共享，视频流服务等应用中，P2P应用表现出优越的性能。在纯P2P网络应用中，没有一直在运行的传统服务器，所有通信都是在对等的通讯方之间直接进行，通信双发没有传统意义上的客户与服务器之分，“地位”对等 对等端软件通常运行在普通用户的计算设备上，可以动态地直接与其他对等端进行通信。P2P应用中每个对等端都同时具备C/S应用的客户与服务器的特征，是一个服务器与客户的结合体。P2P应用中的对等端软件包括服务器软件和客户端软件
在P2P应用中，对等端都是动态加入或者离开应用，新加入对等端需要知道有哪些对等端在线，在线对等端的地址以及在线对等端提供的服务器等，这是P2P应用需要解决的关键问题之一，对于纯P2P应用，由于没有中心服务器，所以解决这些问提就更为困难和复杂

3. 混合结构网络应用
顾名思义，就是C/S 和 P2P 的应用相结合，既有中心服务器的存在，又有对等端的直接通信，通常每个客户通过C/S方式向服务器注册自己的网络地址，声明自己可以共享的资源或可提供的服务，并通过中心服务器发现其他在线客户，检索其他客户可以共享的资源以及服务，当某客户希望获取另外一个客户拥有的资源或服务时，直接跟客户发起通信，请求服务区


## 2.网络应用通信基本原理
本质是运行在不同主机上的应用进程之间的通信。无论是哪种类型的网络应用，基本通信方式都是C/S通信，因此，网络应用的基本通信过程就是在不同运行在不同主机上的应用进程间以C/S方式进行的通信。应用进程间遵循应用层协议交换应用层报文，应用层协议定义了应用进程之间交换报文类型，报文构成部分具体含义以及交换时序等内容即语法 语义 时序

典型的网络应用编程接口是套接字（Socket）应用进程通过创建Socket实现与底层协议接口，进一步通过Socket实现应用进程与底层协议的报文交换，因此Socket是每个应用程序与其他应用程序进行网络通信时真正收发报文的通道
一个应用进程可以创建多个Socket与同一个或不同的传输层协议进行接口，通常会对其接口每个Socket分配一个编号——`端口号`, 通常服务器进程Socket会分配特定端口号，尤其是标准化应用，比如Web是80，这种成为熟知端口号，因为主机可以运行多个进程，而进程可以通过一个或者多个Socket与传输层进行接口，所以可以主机IP跟端口号可以表示应用进程

网络应用需要传输层提供端到端的服务，应用对传输层有不同的服务性能要求，例如：提供可靠的数据传输服务，提供延时保障服务，但是在Internet中传输层能够提供的服务类型只有两类：面向连接的可靠字节流传输服务和无连接的不可靠数据报传输服务，分别对应传输层TCP和UDP，这两类都不能提供延时保障服务和带宽保障服务

TCP服务模型包括面向连接服务和可靠数据传输服务：
- 面向连接的服务：在应用层开报文开始传送之前，TCP客户与服务器互相交换传输层控制信息，完成握手，在客户进程与服务器进程的Socket之间建立一条逻辑的TCP全双工 连接，当应用程序结束报文传送后，必须拆除改 连接
- 可靠的数据传送服务：应用程序能够依靠TCP，实现端到端的无差错，按顺序交付所有发送数据的服务

UDP是一种不提供传输服务保障的轻量级传输层协议，UDP是无连接的，因此进程在通信前没有握手过程，UDP提供一种不可靠的数据传送服务，也就是说，当进程将一个报文通过UDP Socket传送时，UDP并不保证该报文将到达接收进程，即使到达，报文也可能是乱序到达

特别注意的是，InTernet传输层的TCP和UDP均不能提供端到端吞吐量以及时延保障服务


## 3.域名系统（DNS）
用户通过客户端软件访问网络应用（浏览器，邮件），这些客户端软件成为`用户代理`，用户习惯用主机的`域名`来代替IP地址访问服务器，而DNS就是将域名解析成IP的系统，成为`域名系统(DNS)`。`DNS`是一个重要的基础应用，任何一个需要使用域名进行通信的网络应用，在通信前都要请求DNS应用，将域名映射为IP地址，实现将域名映射为IP地址的过程成为 `域名解析`。 DNS为了实现域名解析，需要建立分布式数据库，存储网络中域名与IP的映射关系，这些数据库存储在域名服务器上，域名服务器根据用户的请求提供域名解析服务

1. 层次化域名空间
   DNS服务器按层次结构进行组织，与于域名的结构相对应。因特网词用层次树状结构的命名方法，任何一个连接在因特网的主机或路由器都可以有一个唯一的层次结构域名。域名的结构由标号序列组成，各标号用点隔开
   - 国家顶级域名nTLD 如 cn us uk
   - 通用顶级域名gTLD 如 com（公司） net（网络服务机构） org（非盈利性组织） edu（专用教育机构） gov（专用政府部门） mil（专用军事部门） int（国际组织）
   - 基础结构域名：这种顶级域名只有一个 arpa 用户反向域名解析，也称为反向域名

2. 域名服务器
  一个服务器所负责管辖的范围叫区。每一个区设置相对应的权限域名服务器，用来保存该区中所有主机的域名到IP地址的映射，域名服务器根据其保存的域名信息以及域名解析过程中的作用等可以分为 `根域名服务器` `顶级域名服务器` `权威域名服务器` `中间域名服务器`  一般主机都会配置一个域名服务器作为域名解析首先被查询的域名服务器，成为本地域名服务器

  - 根域名服务器：最重要的域名服务器，每个根域名服务器都知道所有的顶级域名服务器的IP地址，只要哪个本地域名服务器无法对一个域名进行解析就首先求助于根域名服务器，一共有13个域名不同IP地址的根域名服务器 (a-m).rootservers.net 
  - 顶级域名服务器：即TLD服务器，负责管理在该顶级域名服务器注册的所有二级域名。顶级域名服务器的名称对应域名的最后一个名字，例如 com org 或者一个区域的命名 cn us
  - 权威域名服务器：负责一个区的域名服务器，保存该区的所有主机的域名到IP地址映射，任何一个拥有域名的主机，其域名跟IP的映射关系等信息都会存储在所在网络的权威域名服务器上
  - 中间域名服务器： 即不是根渔民服务器，顶级域名服务器，也不是权威域名服务器的域名服务器，这些域名服务器称为中间域名服务器 例如主机域名为www.abc.xyz.com

3. 域名解析过程
分为递归解析和迭代解析，提供递归查询的域名服务器可以代替查询主机或者其他域名服务器，进行进一步域名查询，然后把解析结果发送给查询主机或服务器，而迭代查询服务器不会这样，只是进一步的查询，然后把下一步要查询的服务器告知主机或服务器

- 递归解析 通常本地域名服务器都有该查询服务，域名查询时，如果本地域名服务器没有查询到，则代理主机查询根域名服务器或其他服务器，知道得到查询结果，最后将解析结果发送给主机
- 迭代解析 如果得到结果直接响应，没有的话就将下一步要查询的域名服务器直接响应给查询客户，根域名服务器通常指提供迭代查询服务，当根域名服务器收到本地域名服务器的迭代查询请求报文时，要么直接给出所要查询的IP地址，要么在响应报文中告诉本地域名服务器下一步应当查询哪一个域名服务器
  
无论哪种解析，只要本地域名服务器不能直接响应结果，则都需要从根域名服务器开始查询，但是由于根域名服务器数量有限，如果每次都去查询则压力会很大，造成查询时间长和查询效率低，所以域名服务器会增加缓存机制，或者在本地域名服务器中存储顶级域名服务器信息，使得域名解析过程跳过根域名服务器的查询，直接查询顶级服务器，提高域名查询效率

## 4.万维网应用

